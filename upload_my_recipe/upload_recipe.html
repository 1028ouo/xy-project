<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Document</title>
      <style>
            .starpic{
                  margin-top: 10px;
                  width:30px;
            }
            .outside{
                  display: flex;
            }
            .inside{
                  flex-direction: row;
            }
            .upload{
                  float: right;
            }
            .recipe{
                  float: left;
            }
            .display_img{
                  font-size: 50px;
                  padding: 10px;
                  border: 3px solid #ddd;
                  width: 250px;
                  height: 250px;
                  text-align:center;
                  box-sizing: border-box;
                  color: gray;
                  display: flex; /*彈性*/
                  justify-content: center;/*使子元素在 Flex 容器中水平居中對齊*/
                  align-items: center;/*子元素在 Flex 容器中垂直居中對齊*/
            }
      </style>
</head>
<body>
      <div>
            <h1 align="center">作品分享</h1>
            <hr>
      </div>
      <div>       
            <div class="outside">
                  <!-- 用來顯示圖片的區域 -->
                  <div class="inside">
                        <div id="display_img" class="display_img">image</div>
                  </div>
                  <!-- 輸入地方 -->
                  <div class="inside">
                        <label class="recipe">
                              食譜名稱 : <input type="text" id="recipe">
                        </label><br>
                        <label class="content">
                              <div id="star">實用程度 : </div>
                        </label><br>
                        <label class="content">
                              心得分享 : <input type="text" id="content">
                        </label><br>
                        <button id="upload" class="upload" style="margin-top:10px;">上傳作品</button><br>
                  </div>
            </div>

            <label class="btn btn-info">
                  <input id="upload_img" style="display:none;" type="file" onchange="previewImage(event)">
                  <i class="fa fa-photo"></i>上傳圖片
            </label>
            
            
      </div>
      <script>
            let star=document.getElementById("star");

            showstar();
            function showstar(){
                  let res='實用程度 : ';
                  for(let i=0;i<5;i++){
                        res+=`<img src="starline.png" class="starpic" id="star-${i+1}" onclick="star">`;
                  }
                  star.innerHTML=res;
            }
            function previewImage(event) {
                  var input = event.target;//從事件中取得目標元素（此處為 input 元素）
                  var reader = new FileReader();// 創建FileReader物件，用於讀取圖片檔案

                  reader.onload = function(){// 當FileReader讀取完成時執行的動作
                        var imgElement = document.createElement("img");
                        imgElement.src = reader.result;// 將圖片的資料（Data URL）指派給img元素的src屬性
                        imgElement.style.maxWidth = "300px"; // 設定圖片最大寬度
                        document.getElementById("display_img").innerHTML = ""; // 清空預覽區域
                        document.getElementById("display_img").appendChild(imgElement); // 在預覽區域顯示圖片
            };
            reader.readAsDataURL(input.files[0]);//讀取檔案，將檔案轉換為 Data URL 格式
      }
      </script>
</body>
</html>